[gd_scene load_steps=20 format=3 uid="uid://dlilmrpe4icgc"]

[ext_resource type="Script" path="res://example/player/player.gd" id="1_uv2vo"]
[ext_resource type="Script" path="res://example/player/hud.gd" id="2_ai5bq"]
[ext_resource type="Texture2D" uid="uid://bj3wqaubjklhr" path="res://example/kenney_pixelplatformer/Tilemap/characters_packed.png" id="2_f43wi"]
[ext_resource type="Script" path="res://addons/godot-gameplay-attributes/nodes/gameplay_attribute_map.gd" id="3_85ne8"]
[ext_resource type="Script" path="res://addons/godot-gameplay-attributes/resources/attribute.gd" id="4_lwbis"]
[ext_resource type="Resource" uid="uid://cbv7qpyl1i4ac" path="res://example/attributes.tres" id="5_7fuph"]
[ext_resource type="Script" path="res://addons/godot-gameplay-attributes/nodes/gameplay_effect.gd" id="6_fbded"]
[ext_resource type="Script" path="res://addons/godot-gameplay-attributes/resources/stop_effect_if_0.gd" id="7_5dgle"]
[ext_resource type="Script" path="res://addons/godot-gameplay-attributes/resources/attribute_effect.gd" id="7_xp7iw"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2anqr"]
size = Vector2(24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_gufhc"]
atlas = ExtResource("2_f43wi")
region = Rect2(0, 0, 24, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_jqk2w"]
atlas = ExtResource("2_f43wi")
region = Rect2(24, 0, 24, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_n63lc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gufhc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jqk2w")
}],
"loop": true,
"name": &"default",
"speed": 2.0
}]

[sub_resource type="Resource" id="Resource_1w78m"]
script = ExtResource("4_lwbis")
attribute_name = "speed"
minimum_value = 500.0
maximum_value = 1.0
current_value = 500.0

[sub_resource type="Resource" id="Resource_kobx3"]
script = ExtResource("4_lwbis")
attribute_name = "jump_height"
minimum_value = -500.0
maximum_value = 0.0
current_value = -500.0

[sub_resource type="Resource" id="Resource_a6tcp"]
script = ExtResource("4_lwbis")
attribute_name = "health"
minimum_value = 0.0
maximum_value = 5.0
current_value = 5.0

[sub_resource type="Resource" id="Resource_3u85c"]
script = ExtResource("4_lwbis")
attribute_name = "score"
minimum_value = 0.0
maximum_value = 100000.0
current_value = 0.0

[sub_resource type="Resource" id="Resource_42y1g"]
script = ExtResource("7_5dgle")

[sub_resource type="Resource" id="Resource_h56y6"]
script = ExtResource("7_xp7iw")
life_time = 1
apply_every_second = 60.0
max_applications = 0
attribute_name = "health"
minimum_value = 1.0
maximum_value = 1.0
condition = SubResource("Resource_42y1g")

[node name="Player" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 13
script = ExtResource("1_uv2vo")

[node name="Hud" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_bottom = -40.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("2_ai5bq")

[node name="HBoxContainer" type="VBoxContainer" parent="Hud"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Health" type="Label" parent="Hud/HBoxContainer"]
layout_mode = 2
text = "Health: 0"
horizontal_alignment = 1

[node name="Score" type="Label" parent="Hud/HBoxContainer"]
layout_mode = 2
text = "Score: 0"
horizontal_alignment = 1

[node name="CollisionShape2d" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_2anqr")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="CollisionShape2d"]
sprite_frames = SubResource("SpriteFrames_n63lc")
frame_progress = 0.844291

[node name="GameplayAttributeMap" type="Node" parent="."]
script = ExtResource("3_85ne8")
owning_character = NodePath("..")
attributes = Array[ExtResource("4_lwbis")]([SubResource("Resource_1w78m"), SubResource("Resource_kobx3"), SubResource("Resource_a6tcp"), SubResource("Resource_3u85c")])
table = ExtResource("5_7fuph")

[node name="HealthRegen" type="Node" parent="GameplayAttributeMap"]
script = ExtResource("6_fbded")
table = ExtResource("5_7fuph")
attributes_affected = Array[ExtResource("7_xp7iw")]([SubResource("Resource_h56y6")])

[node name="Camera2D" type="Camera2D" parent="."]
